(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{3769:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/battle",function(){return n(1020)}])},1020:function(t,e,n){"use strict";n.r(e);var a=n(5893),o=n(7294),c=n(3376),l=n(3377),s=n(6548),r=n.n(s);e.default=()=>{let[t,e]=(0,o.useState)([[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,0,1,2,3,0,0],[0,0,3,2,1,0,0,0],[0,0,0,3,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]),[n,s]=(0,o.useState)(1),_=async()=>{let t=await c.x.board.$get().catch(l.F);null!==t&&e(t)},u=async(n,a,o)=>{if(3===t[a][n]){let l=await c.x.board.post({body:{board:t,x:n,y:a,turn:o}});console.log(l.body.board),e(l.body.board),s(3-l.body.turn)}},i=async()=>{let n=await c.x.newboard.post({body:{board:t}});console.log(n),e(n.body),s(1)};(0,o.useEffect)(()=>{_();let t=setInterval(_,100);return()=>clearInterval(t)},[]);let d=(()=>{let e=0;for(let n=0;n<8;n++)for(let a=0;a<8;a++)3===t[n][a]&&e++;return e})();0===d&&alert("ゲーム終了");let b=(t,e)=>{let n=0;for(let a of e)for(let e of a)e===t&&n++;return n},f=b(1,t),h=b(2,t),N="ユーザー".concat(n,"のターン");return(0,a.jsxs)("div",{className:r().container,children:[(0,a.jsx)("div",{className:r().board,children:t.map((t,e)=>t.map((t,o)=>(0,a.jsx)("div",{className:r().cell,onClick:()=>u(o,e,n),children:0!==t&&(0,a.jsx)("div",{className:r().stone,style:{background:3===t?"#adff2f":1===t?"#000":"#fff"}})},"".concat(o,"-").concat(e))))}),(0,a.jsxs)("div",{className:r().stonecount,children:[(0,a.jsxs)("div",{className:r().blackcount,children:["黒",f]}),(0,a.jsxs)("div",{className:r().whitecount,children:["白",h]})]}),(0,a.jsx)("div",{className:r().counts,children:N}),(0,a.jsx)("button",{className:r().button,onClick:i,children:"ゲーム終了"})]})}},6548:function(t){t.exports={container:"battle_container__hUAz1",board:"battle_board__u7GgZ",cell:"battle_cell__QK_HA",stone:"battle_stone__Gj6Hg",button:"battle_button__qhENz",counts:"battle_counts__sSApJ",stonecount:"battle_stonecount__hZr_C",blackcount:"battle_blackcount__kGdWU",whitecount:"battle_whitecount___joNK"}}},function(t){t.O(0,[774,888,179],function(){return t(t.s=3769)}),_N_E=t.O()}]);