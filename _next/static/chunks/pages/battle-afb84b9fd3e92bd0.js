(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{3769:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/battle",function(){return n(1020)}])},1020:function(t,e,n){"use strict";n.r(e);var o=n(5893),a=n(1664),l=n.n(a),c=n(7294),s=n(3376),r=n(3377),u=n(6548),_=n.n(u);e.default=()=>{let[t,e]=(0,c.useState)([[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,3,0,0,0],[0,0,0,1,2,3,0,0],[0,0,3,2,1,0,0,0],[0,0,0,3,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]),[n,a]=(0,c.useState)(1),u=async()=>{let t=await s.x.board.$get().catch(r.F);null!==t&&e(t)},i=async(n,o,l)=>{if(3===t[o][n]){let c=await s.x.board.post({body:{board:t,x:n,y:o,turn:l}});console.log(c.body.board),e(c.body.board),a(3-c.body.turn)}},d=async()=>{let n=await s.x.newboard.post({body:{board:t}});console.log(n),e(n.body),a(1)};(0,c.useEffect)(()=>{u();let t=setInterval(u,100);return()=>clearInterval(t)},[]);let b=(()=>{let e=0;for(let n=0;n<8;n++)for(let o=0;o<8;o++)3===t[n][o]&&e++;return e})();0===b&&alert("ゲーム終了");let h=(t,e)=>{let n=0;for(let o of e)for(let e of o)e===t&&n++;return n},f=h(1,t),m=h(2,t),N="ユーザー".concat(n,"のターン"),x=async e=>{e.preventDefault(),await s.x.room.post({body:{board:t,turn:n}})};return(0,o.jsxs)("div",{className:_().container,children:[(0,o.jsx)("div",{className:_().board,children:t.map((t,e)=>t.map((t,a)=>(0,o.jsx)("div",{className:_().cell,onClick:()=>i(a,e,n),children:0!==t&&(0,o.jsx)("div",{className:_().stone,style:{background:3===t?"#adff2f":1===t?"#000":"#fff"}})},"".concat(a,"-").concat(e))))}),(0,o.jsxs)("div",{className:_().stonecount,children:[(0,o.jsxs)("div",{className:_().blackcount,children:["黒",f]}),(0,o.jsxs)("div",{className:_().whitecount,children:["白",m]})]}),(0,o.jsx)("div",{className:_().counts,children:N}),(0,o.jsx)("button",{className:_().button,onClick:d,children:"ゲーム終了"}),(0,o.jsx)(l(),{href:"/",children:(0,o.jsx)("button",{className:_().homeButton,onClick:d,children:"ホームページへ"})}),(0,o.jsx)("button",{className:_().homeButton,onClick:x,children:"aaa"})]})}},6548:function(t){t.exports={container:"battle_container__hUAz1",board:"battle_board__u7GgZ",cell:"battle_cell__QK_HA",stone:"battle_stone__Gj6Hg",button:"battle_button__qhENz",counts:"battle_counts__sSApJ",stonecount:"battle_stonecount__hZr_C",blackcount:"battle_blackcount__kGdWU",whitecount:"battle_whitecount___joNK",homeButton:"battle_homeButton__zh_9Q"}}},function(t){t.O(0,[664,774,888,179],function(){return t(t.s=3769)}),_N_E=t.O()}]);